# 监控

## 异常监控的目的

- 开发处于被动的发现问题
- 问题发现不及时
- 主动发现问题，及时处理异常

## 异常监控的意义

- 可以实时感知
  - 感知问题通知业务
- 主动聚焦
  - 错误定位、还原快速解决问题
  - 监控性能、提升性能瓶颈、提升用户体验
- 预测分析
  - 获取大数据分析

## 监控流程

- 异常采集
  - 考虑的问题
    - 性能 vs 全面性
    - 自动化、不遗漏
  - 采集内容
    - 用户信息基本信息
    - 行为
    - 异常信息
    - 环境信息
  - 捕获方式
    - try catch
    - onerror
      - onerror vs addEventListener error
- 数据存储
- 统计分析
- 报告告警

## sentry

- 异常监控系统

- 为什么选 sentry
  - 体积小，安装量大
  - 100%开源、开放源码、易于扩展
  - 支持 sass 版和私有化部署
  - 支持主流编程语言
  - 支持第三方继承，gitlab、github、jira
